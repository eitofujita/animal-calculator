# Animal Manager — UI/UX 設計仕様書

**目的**: 年齢換算を入口に、投薬・ワクチン・通院のリマインダーと体重ログで継続利用させる。  
**プラットフォーム**: iOS / Android（React Native）  
**基準デバイス**: iPhone 15（393×852 pt）

---

## 1. UI スタイルガイド

### 1.1 色

| 用途 | ライト | ダーク | 備考 |
|------|--------|--------|------|
| 背景（メイン） | `#FAFBFC` | `#121212` | 白基調 |
| 背景（カード/サーフェス） | `#FFFFFF` | `#1F1F1F` | |
| アクセント | `#4A90E2` | `#4A90E2` | 落ち着いたブルー（Primary） |
| テキスト（主） | `#1A202C` | `#FFFFFF` | |
| テキスト（副） | `#4A5568` | `#B0B0B0` | |
| テキスト（補足） | `#718096` | `#718096` | |
| 成功 | `#2D9D78` | 同左 | |
| 警告・注意 | `#E67E22` | 同左 | オレンジ |
| エラー | `#C53030` | 同左 | 赤 |
| ボーダー | `#E2E8F0` | `#333333` | |

### 1.2 フォントサイズ・ウェイト

| 用途 | サイズ | ウェイト | 行送り | 使用例 |
|------|--------|----------|--------|--------|
| 見出し1 | 26px | 700 | 34 | 画面タイトル |
| 見出し2 | 22px | 600 | 28 | カードタイトル |
| 見出し3 | 18px | 600 | 24 | セクション見出し |
| 本文 | 16px | 400 | 24 | 説明文 |
| 本文小 | 14px | 400 | 20 | 補足 |
| **数値・強調** | **32px** | **700** | 40 | 人間換算年齢、次の予定日時 |
| 数値小 | 24px | 700 | 32 | 残り日数など |
| ラベル | 12px | 600 | 16 | 種類・日付ラベル |
| キャプション | 12px | 400 | 16 | ライフステージ等 |

### 1.3 角丸・余白・影

- **角丸**: カード・ボタン 12〜16px（`radius.md` 12px、`radius.lg` 16px）
- **余白**: 画面左右 20px、カード内 16〜24px、要素間 12〜16px
- **影**: 控えめ（opacity 0.06〜0.08、blur 8px 程度）
- **タップ領域**: 最低 44×44 pt

### 1.4 アイコン方針

- **Line 系**（線アイコン）: リマインダー種類・アクション
- **ペット**: シルエット or 丸アイコン（既存 assets 活用）
- サイズ: 一覧 24px、カード内 32px、FAB 周辺 20px

---

## 2. ナビゲーション構造

```
[Bottom Tabs]
├── Home（今日/次の予定）     ← デフォルト
├── Calculator（年齢換算）
├── Reminders（リマインダー一覧）
├── Weight Log（体重）
└── Pro（買い切り） or 設定/メニュー

[Stack として開く画面]
├── PetProfile（ペット登録/編集）  ← タブ「ペット」または Home から
├── Add/Edit Reminder（リマインダー追加/編集）  ← Home FAB / Reminders / Calculator 結果から
└── PaywallSheet（モーダル）  ← 制限超過時・Pro タブ
```

- **初回**: 認証 → ペット登録（1匹・名前・種類・誕生日 or 年齢）→ Home。**3タップ以内**で完了できるフローにする。
- **重要導線**: 年齢換算結果画面に **「この年齢でリマインダーを追加」** を常時表示。制限超過時は **Paywall モーダル** を表示。

---

## 3. 画面一覧とワイヤーフレーム要約

### 3.1 Home（今日/次の予定）

**1画面1目的**: 「今、何をすべきか」を一覧で示す。

| 要素 | 内容 |
|------|------|
| **上部ヘッダー** | 左: アプリ名 or ロゴ。右: ペット切替（ドロップダウン or タップでシート）。高さ 56pt。 |
| **ペット切替** | 選択中ペットの名前＋種類アイコン。タップで他ペット一覧（カード形式）。 |
| **次の予定カード** | 1枚目を大きく。種類アイコン（投薬/ワクチン/通院）、タイトル、**日時（数値強調）**、**「あと○日」**（24px Bold）。タップで詳細 or 編集。 |
| **今日の ToDo** | チェックリスト。行: チェックボックス、タイトル、時間（あれば）。完了でチェック。 |
| **主要 CTA** | 下部固定 **「＋ 追加」**（FAB または Full-width ボタン）。タップで Add Reminder。最小高さ 44pt。 |
| **空状態** | 「次の予定はありません」「今日の ToDo はありません」。＋追加を促す文言。 |
| **エラー** | ネットワークエラー時はバナー「同期できませんでした」＋リトライ。 |

---

### 3.2 Age Calculator（年齢換算）

**1画面1目的**: ペットの年齢を人間換算で表示し、リマインダー追加へ誘導。

| 要素 | 内容 |
|------|------|
| **上部ヘッダー** | 中央「年齢換算」。シンプル。 |
| **種類選択** | 犬/猫/うさぎ/鳥/ハムスター。横スクロール or グリッド。選択中は Primary 枠。 |
| **入力** | 誕生日（日付ピッカー）**または** 年齢（年・月）。1フィールドに集約可能。 |
| **結果カード** | **人間換算年齢を 32px Bold で中央**。その下にライフステージ（12px キャプション）。角丸 16、余白 24。 |
| **主要 CTA** | **「この年齢でリマインダーを追加」**（Primary ボタン）。Calculator 結果の直下。 |
| **空状態** | 未計算時は結果カード非表示。入力促しのみ。 |
| **エラー** | 不正入力時「正しい年齢を入力してください」（オレンジ系メッセージ）。フィールド下に表示。 |

---

### 3.3 Reminders（一覧）

**1画面1目的**: リマインダーを一覧で管理し、ON/OFF と次回日時を把握。

| 要素 | 内容 |
|------|------|
| **上部ヘッダー** | 「リマインダー」。右に「＋」ボタン（追加）。 |
| **フィルタ** | すべて / 投薬 / ワクチン / 通院。タブまたはチップ。スクロール横。 |
| **カードリスト** | 1行: 左に種類アイコン、タイトル、**次回日時（強調）**、右にスイッチ（ON/OFF）。カード角丸 12、余白 16。 |
| **主要 CTA** | ヘッダー「＋」または下部「＋ 追加」。Add Reminder へ。 |
| **空状態** | イラスト or アイコン＋「最初のリマインダーを作ろう」。＋追加ボタン。 |
| **エラー** | 一覧取得失敗時「読み込めませんでした」＋リトライ。 |

---

### 3.4 Add/Edit Reminder（追加/編集）

**1画面1目的**: 1件のリマインダーを設定して保存。

| 要素 | 内容 |
|------|------|
| **上部ヘッダー** | 戻る、「追加」or「編集」。保存は Primary ボタンで行う場合はヘッダー右「保存」でも可。 |
| **種類** | 投薬 / ワクチン / 通院。3択カード or セグメント。 |
| **タイトル・メモ** | テキスト入力。プレースホルダー明確に。 |
| **スケジュール** | 単発 / 毎日 / 毎週 / カスタム。選択に応じて次回日時・繰り返し設定を表示。 |
| **次回日時** | 日付＋時間ピッカー。ラベル「次回日時」。 |
| **通知** | 通知タイミング（0分前、15分前、1時間前など）。 |
| **主要 CTA** | **「保存」**（Primary、幅広、角丸 12、高さ 48pt 以上）。 |
| **空状態** | 新規追加時は空フォーム。編集時は既存値で埋める。 |
| **エラー** | タイトル未入力は「タイトルを入力してください」。日時不正は「有効な日時を選んでください」。フィールド下に表示。 |

---

### 3.5 Weight Log（体重）

**1画面1目的**: 最新体重の確認と追加入力、履歴の閲覧。

| 要素 | 内容 |
|------|------|
| **上部ヘッダー** | 「体重」。ペット切替（Home と同様）あり。 |
| **最新体重カード** | **数値（32px Bold）**＋単位（kg）。測定日（14px）。その下に「記録を追加」入力欄（数値＋日付）。 |
| **履歴リスト** | 日付・体重・増減（任意）。無料は **直近7日**、Pro は無制限。 |
| **Pro 時** | 期間グラフ（折れ線 or バー）。期間選択（7日/30日/90日）。 |
| **主要 CTA** | 「記録を追加」送信ボタン or カード内「追加」。 |
| **空状態** | 「まだ体重記録がありません」。最初の記録を促す。 |
| **エラー** | 不正値「正しい体重を入力してください」（0〜200kg 等バリデーション）。 |

---

### 3.6 Pro Paywall

**1画面1目的**: 買い切り価値の理解と購入 or 後で。

| 要素 | 内容 |
|------|------|
| **上部** | 閉じる（×）右寄せ。タイトル「Pro で全部使う」。 |
| **価値訴求** | 3つまで。アイコン＋短文（無制限リマインダー、複数ペット、ログ無制限、広告削除など）。カード or リスト。 |
| **価格** | **買い切り価格を大きく表示**（例: ¥1,200）。「一度の購入でずっと」等の補足。 |
| **主要 CTA** | **「購入する」**（Primary、全幅、高さ 52pt）。その下「購入を復元」。 |
| **次要** | 「後で」テキストボタン。タップでシート閉じる。 |
| **空状態** | なし（常に価格とボタン表示）。 |
| **エラー** | 購入失敗時「購入できませんでした」＋復元を促す。 |

---

## 4. 主要コンポーネント仕様

### 4.1 PetCard / ペット切替

- **用途**: Home 上部のペット選択、PetProfile 一覧。
- **構成**: 丸アイコン（種類）＋名前＋「▼」or なし。タップ領域 44pt 以上。
- **スタイル**: 角丸 12、padding 12〜16。背景 surface、ボーダー border。

### 4.2 ReminderCard

- **用途**: Home「次の予定」、Reminders 一覧行。
- **構成**: 左 種類アイコン（24〜32px）→ タイトル・次回日時（強調）・「あと○日」or スイッチ。
- **スタイル**: 角丸 12、padding 16、影 控えめ。リストでは borderBottom またはカード間 8pt。

### 4.3 PrimaryButton

- **用途**: 保存、購入する、この年齢でリマインダーを追加。
- **スタイル**: 背景 primary、文字 white、角丸 12、高さ 48pt 以上、padding 水平 24。font 16px 600。
- **無効**: opacity 0.5、タップ無効。

### 4.4 SecondaryButton

- **用途**: 後で、キャンセル、復元。
- **スタイル**: 枠線 primary または textSecondary、背景透明。角丸 12、高さ 44pt 以上。

### 4.5 PaywallSheet

- **用途**: Pro 制限超過時・Pro タブからの購入。
- **スタイル**: モーダル（下から 90% または全画面）。閉じるは右上。スクロール可能で価値訴求＋価格＋CTA。

### 4.6 FAB（＋ 追加）

- **用途**: Home 下部固定。
- **スタイル**: 円形、直径 56pt 以上、primary 背景、白「＋」。影 控えめ。右下固定、safe area 考慮。

### 4.7 空状態（EmptyState）

- **共通**: アイコン or イラスト、短文、メイン CTA 1つ。中央寄せ、余白 24 以上。

### 4.8 エラー表示

- **インライン**: フィールド直下、14px、色 error。1行で簡潔に。
- **バナー**: 画面上部または下部、背景 error の 10% 透明度、リトライボタンあり。

---

## 5. iPhone 15 基準のレイアウトメモ

- **安全領域**: 上 59pt、下 34pt（ノッチ・ホームインジケータ）。
- **タブバー**: 高さ 49pt＋safe bottom。
- **ヘッダー**: 44〜56pt。左右 padding 20。
- **カード幅**: 画面幅 − 40（左右 20pt）。
- **一覧行高**: 最低 60pt（タップ 44pt＋余白）。

---

---

## 6. 主要コンポーネント API 要約（実装用）

| コンポーネント | 主な props | 備考 |
|----------------|------------|------|
| **PetCard** | `pet: Pet`, `onPress?`, `selected?: boolean` | 丸アイコン＋名前。選択時は primary 枠。 |
| **ReminderCard** | `title`, `type: 'medication'\|'vaccine'\|'vet'`, `nextAt: Date`, `daysLeft?: number`, `enabled: boolean`, `onToggle?`, `onPress?` | 種類アイコン、次回日時（強調）、スイッチ。 |
| **NextScheduleCard** | `reminder`, `onPress?` | Home 用「次の予定」1枚。大きめ、あと○日強調。 |
| **PrimaryButton** | `title`, `onPress`, `disabled?`, `loading?` | 高さ 48pt、角丸 12、primary 背景。 |
| **SecondaryButton** | `title`, `onPress`, `disabled?` | 枠線、透明背景。 |
| **PaywallSheet** | `visible`, `onClose`, `onPurchase`, `onRestore` | モーダル。価値訴求＋価格＋購入/復元/後で。 |
| **EmptyState** | `icon?`, `title`, `subtitle?`, `actionLabel?`, `onAction?` | 中央寄せ、CTA 1つ。 |
| **FAB** | `onPress`, `icon?` | 右下固定、直径 56pt、primary。 |

---

以上を **`src/theme/designTokens.ts`** と組み合わせて実装し、既存の Home / Calculator / Reminders / WeightLog / Pro をこの仕様に寄せていく。
